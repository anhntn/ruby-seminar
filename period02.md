Ruby入門以前（2時間目 配列と繰り返し）
===
身近な問題を例に、Rubyのプログラムを書いてみましょう（[1時間目 計算と変数](period01.md)の続きです）。

準備（フォルダの移動）
-
（デスクトップに`ruby`というフォルダが作成済みであることを前提としています。）

MacOSの方は、ターミナルで以下のように入力してください。
```
cd /Users/ユーザ名/Desktop/ruby
```
Windowsの方は、コマンドプロンプトで以下のように入力してください。
```
cd C:\Users\ユーザ名\Desktop\ruby
```

まとめて名前をつける
-
もし、値段の異なる10個のリンゴの値段をすべて表示するプログラムを書くとしたら、どうしますか？
例えば以下のように書くこともできるでしょう。
```ruby
apple1 = 60
apple2 = 14
apple3 = 80
apple4 = 22
apple5 = 30
apple6 = 50
apple7 = 70
apple8 = 31
apple9 = 18
apple10 = 60

puts apple1
puts apple2
puts apple3
puts apple4
puts apple5
puts apple6
puts apple7
puts apple8
puts apple9
puts apple10
```
上記のプログラムはあまりにも長すぎます。これを書くのは大変でしょう。これを短かくするために、複数の値をひとつにまとめて、それに名前をつけることができます。複数の値をひとつにまとめるには、以下のようにします。
```ruby
apples = [60, 14, 80, 22, 30, 50, 70, 31, 18, 60]
```
上記では、10個のリンゴの値段をまとめて、`apples`という名前をつけています。このように、まとめて名前をつけたものを`配列`と呼びます。

配列`apples`のうち、最初のもの（つまり60）を表示したいときには、以下のように書きます。
```ruby
puts(apples[0])
```
上記の`[0]`は、0番目を意味しています。プログラミングの世界での順番は、0番目から始まりますので注意してください。
さて、配列を使うと、長かった最初のプログラムは、半分くらいの長さまで短くなります。

```ruby
apples = [60, 14, 80, 22, 30, 50, 70, 31, 18, 60]
puts apples[0]
puts apples[1]
puts apples[2]
puts apples[3]
puts apples[4]
puts apples[5]
puts apples[6]
puts apples[7]
puts apples[8]
puts apples[9]
puts apples[10]
```
さて、`array1.rb`というファイルを作成して、上記のプログラムを書いてください。書けたら実行してみましょう。
すると、以下のように表示されます。
```
60
14
80
22
30
50
70
31
18
60
```

更に短かく
-
配列のおかげで、プログラムがだいぶ短くなりました。しかし、まだ何度も`puts`を書かなければならないので、大変です。
今度は、同じような処理を何度も繰り返す方法を使って、プログラムを更に短くしましょう。Rubyでは、繰り返しの処理をするための方法のひとつに、`each`があります。`each`を使うと、以下のように書けます。
```ruby
apples = [60, 14, 80, 22, 30, 50, 70, 31, 18, 60]

apples.each do |apple|
  puts(apple)
end
```
`array2.rb`というファイルを作成して、上記のプログラムを書きましょう。書けたら実行してみてください。`array1.rb`を実行したときと同じように表示されるはずです。

上記のプログラムでは、配列`apples`の中身それぞれを`puts`しています。
このとき、
```
apples.each do |apple|
```
から
```
end
```
までの間にある行が、`apples`の中身の個数分だけ繰り返されます。

`apples.each do |apple|`の行の最後にある`|apple|`は特殊な変数で、繰り返しのたびに指すものが変わります。1回目の繰り返しで`apple`が指すものは60です。2回目の繰り返しで`apple`が指すものは14です。このように、繰り返されるたびに、`apple`が指すものが順番に変わっていきます。

プログラミングの世界では、このようなテクニックを利用して、できるだけ簡潔で読みやすいプログラムを書くことが良いこととされています。

配列と繰り返しを使った計算
-
配列と繰り返しを使って、りんご10個の値段の合計を計算してみましょう。`array3.rb`というファイルを作成して、以下のプログラムを書いてください。
```ruby
apples = [60, 14, 80, 22, 30, 50, 70, 31, 18, 60]

sum = 0
apples.each do |apple|
  sum = sum + apple
end

puts(sum)
```
書けたら実行してみましょう。以下のように表示されるはずです。
```
435
```
上記のプログラムの`sum = sum + apple`の行では、繰り返しのたびに`sum`と`apple`の足し算の結果に、改めて`sum`という名前をつけ直しています。このプログラムの最後では、すべての繰り返しが終了した時点で`sum`という名前がつけられている計算結果を表示しています。

練習問題
-
1. 配列の中身には、数字だけでなく、文字を入れることもできます。2014年4月のすべての日にちに対応する曜日の配列`["Tue", "Wed", "Thu", ..., "Wed"]`を作って、それに`aplil`という名前をつけてください。そして、10日と14日の曜日だけを表示させてください。
2. 上記で作成したプログラム中の配列に`"Wed"`がいくつ含まれているかを計算して表示させてください。
